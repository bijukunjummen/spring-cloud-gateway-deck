<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Spring Cloud Gateway</title>

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/simple.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>
</head>
<body>
<div class="reveal">
    <div class="slides">
        <section>
            <h2>Spring Cloud Gateway</h2>
        </section>
        <section>    
                <p>
                    <small>Biju Kunjummen
                        <ul>
                            <li><a href="http://java-allandsundry.com">http://java-allandsundry.com</a></li>
                            <li><a href="https://github.com/bijukunjummen">https://github.com/bijukunjummen</a></li>
                            <li>@bijukunjummen</li>
                        </ul>
                    </small>
                    <small><a href="https://www.youtube.com/watch?v=9wocKqF15B8">Heavily borrowed from Spencer Gibb, Sree
                        Tummidi's Spring One Presentation</a></small>
                </p>
            </section>
        <section>
            <h4>Gateway Routing</h4>
            <small>Courtesy of https://docs.microsoft.com/en-us/azure/architecture/patterns/gateway-routing</small>
            <img src="images/Gateway.png"/>
            <aside class="notes">
                One of the common usage of Gateway patterns
                Customer gets a single endpoint to a set of microservices
            </aside>
        </section>
        <section>
            <h1>CONTROL</h1>
        </section>

        <section>
            <h3>Functions</h3>
            <ul>
                <li>Routing</li>
                <li>Security</li>
                <li>Rate Limiting/Throttling</li>
                <li>Monitoring</li>
                <li>Canary</li>
            </ul>
            <br/>
            <small>Sourced from http://microservices.io/patterns/apigateway.html</small>
        </section>
        <section>
            <h4>Gateway Sample - Monolith Strangling</h4>
            <img src="images/Strangler.png"/>
        </section>
        <section>
            <h3>Gateway Types</h3>
            <ul>
                <li>Appliance - F5, Apigee, CA API Gateway</li>
                <li>SAAS - Apigee, AWS ELB</li>
                <li>Web Server - Nginx, Apache mod_proxy</li>
                <li>Mesh - East/West rather than North/South - Envoy/Istio/LinkerD</li>
                <li>Software - Zuul/Spring Cloud Gateway/Amabassador</li>
            </ul>
        </section>

        <section>
            <h3>Zuul</h3>
            <ul>
                <li>Servlet Based</li>
                <li>Blocking API</li>
                <li>Not Dev friendly</li>
            </ul>
        </section>

        <section>
            <h3>Blocking API</h3>
            <img src="images/ServletBlocking.png"/>
            <br/>
            <small>Courtesy of
                <a href="https://medium.com/netflix-techblog/zuul-2-the-netflix-journey-to-asynchronous-non-blocking-systems-45947377fb5c">
                    Netflix Zuul2 Blog
                </a>
            </small>
        </section>
        <section>
            <section>
                <h3>Async & Non-Blocking - What does it mean</h3>
            </section>
            <section>
                <h3>A Blocking IO Call</h3>
                <img src="images/BlockingThread.png"/>
            </section>
            <section>
                <h3>Async Blocking IO Call</h3>
                <img src="images/AsyncIO.png"/>
            </section>
            <section>
                    <h3>Non-Blocking Event Loop</h3>
                    <img src="images/Event_Loop_Diagram.svg"/>
                    <small>More Content</small>
                </section>
            <section>
                <img src="images/AsyncNonBlocking.png"/>
                <br/>
                <small>Courtesy of <a
                        href="https://medium.com/netflix-techblog/zuul-2-the-netflix-journey-to-asynchronous-non-blocking-systems-45947377fb5c">Netflix
                    Zuul2 Blog</a></small>
            </section>
        </section>
        <section>
            <h4>Non-Blocking IO is good but coding is difficult</h4>
            <ul>
                <li>Callback hell</li>
                <li>Difficult to debug</li>
            </ul>
        </section>
        <section>
            <h4>Reactor Types</h4>
            <img src="images/FluxFlatMap.png"/>
        </section>
        <section>
            <h4>Spring Cloud Gateway</h4>
            <ul>
                <li>Spring 5 based</li>
                <li>Reactor</li>
                <li>Netty Server and Http Client - Non-Blocking IO</li>
                <li>Spring Boot 2</li>
            </ul>
        </section>
        <section>
            <h4>Java/Kotlin based DSL to configure the following</h4>
            <img src="images/ApiGateway.png"/>
            <aside class="notes">
                WebFilter - manipulate the request/response
                Predicate - test some aspect of the request to determine whether to route it
                ServerWebExchange - allows access to all parts of the http request and response
            </aside>
        </section>
        <section>
            <h2>DEMOS..DEMOS..DEMOS..</h2>
        </section>
        <section>
            <h2>References</h2>
            <ul>
                <li><a href="https://github.com/spring-cloud/spring-cloud-gateway">
                    https://github.com/spring-cloud/spring-cloud-gateway</a></li>
                <li><a href="https://cloud.spring.io/spring-cloud-gateway/">Project Page</a></li>
                <li><a href="https://www.youtube.com/watch?v=9wocKqF15B8">Spring One 2017 Presentation by Spencer Gibb,
                    Sree Tummidi Youtube</a></li>
                <li><a href="http://slides.com/spencer/spring-cloud-gateway">Spring One 2017 Presentation by Spencer
                    Gibb, Sree Tummidi Deck</a></li>
                <li><a href="http://microservices.io/patterns/apigateway.html">Chris Richardson - API Gatway Pattern</a>
                </li>
                <li><a href="https://gibb.tech/preso/2017-05-11%20There%20Is%20Only%20Zuul%20-%20OSCON.pdf">Spencer
                    Gibbs Oscon Presentation</a></li>
                <li>
                    <a href="https://medium.com/netflix-techblog/zuul-2-the-netflix-journey-to-asynchronous-non-blocking-systems-45947377fb5c">Zuul2
                        Intro</a></li>
                <li><a href="https://www.youtube.com/watch?v=WJK6chc7w3o">Simon Basle - Reactor 3</a></li>
            </ul>
        </section>
    </div>
</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>

<script>
    // More info about config & dependencies:
    // - https://github.com/hakimel/reveal.js#configuration
    // - https://github.com/hakimel/reveal.js#dependencies
    Reveal.initialize({
        dependencies: [
            {src: 'plugin/markdown/marked.js'},
            {src: 'plugin/markdown/markdown.js'},
            {src: 'plugin/notes/notes.js', async: true},
            {
                src: 'plugin/highlight/highlight.js', async: true, callback: function () {
                    hljs.initHighlightingOnLoad();
                }
            }
        ]
    });
</script>
</body>
</html>
